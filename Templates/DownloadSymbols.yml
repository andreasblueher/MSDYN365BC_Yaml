# File: DownloadSymbols.yml

parameters:
  ConfigFolder: ''

steps:
- powershell: |
   Import-Module NVRAppDevOps -DisableNameChecking
   Import-Module navcontainerhelper -DisableNameChecking

   $Config = Get-Content (-join($env:ConfigFolder,"\config.json")) | ConvertFrom-JSON

   Write-Host $Config.AllApps.platform | Get-Unique

   $Config.AllApps.platform | Get-Unique | % { 
      $Config | Download-ALSystemPackages -AlPackagesPath $env:Build_BinariesDirectory -PlatformVersion $_} 

  displayName: 'Download system symbols'
  env:
    ConfigFolder: ${{ parameters.ConfigFolder }}
